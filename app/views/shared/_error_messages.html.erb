<% if object.errors.any? %>
<% nonredundant_errors = {} %> 
<% object.errors.messages.each do |key, array| %>

  <% nonredundant_errors.store(key, array[0]) unless array.empty? %>
<% end %>
  <div id="error-explanation">
    <div class="alert alert-danger">
      The form contains <%= pluralize(nonredundant_errors.count, "error") %>.
    </div>
    <ul>
    <% nonredundant_errors.each do |key, msg| %>
      <li>* <%= key.capitalize %> <%= msg %></li>
    <% end %>
    </ul>
  </div>
<% end %>